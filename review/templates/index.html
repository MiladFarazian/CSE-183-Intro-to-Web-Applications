[[extend 'layout.html']]

<section class="section">
  <div class="title">Contacts</div>
  [[if contacts:]]
    <table class="table is-striped is-fullwidth">
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th></th>
        <th>Phone Numbers</th>
        <th></th>
      </tr>
      [[for contact in contacts:]]
      <tr>
        <td>[[=contact['first_name'] ]]</td>
        <td>[[=contact['last_name'] ]]</td>
        <td>
          <a class="button is-warning" href="[[=URL('edit_contact', contact['id'])]]">
            <i class="fa fa-fw fa-edit"></i>
          </a>
          <a class="button is-danger" href="[[=URL('delete_contact', contact['id'], signer=url_signer)]]">
            <i class="fa fa-fw fa-trash"></i>
          </a>
        </td>
        <td>[[=contact['phones_str'] ]]</td>
        <td>
          <a class="button is-warning" href="[[=URL('phone_numbers', contact['id'])]]">
            <i class="fa fa-fw fa-edit"></i>
          </a>
        </td>
      </tr>
      [[pass]]
    </table>
  [[else:]]
    <div>You have no contacts.</div>
    <br>
  [[pass]]
  <a class="button is-primary" href="[[=URL('add_contact')]]">Add Contact</a>
</section>